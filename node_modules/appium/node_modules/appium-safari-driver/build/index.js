"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "SafariDriver", {
  enumerable: true,
  get: function () {
    return _driver.default;
  }
});
Object.defineProperty(exports, "startServer", {
  enumerable: true,
  get: function () {
    return _server.startServer;
  }
});
exports.default = void 0;

require("source-map-support/register");

var _driver = _interopRequireDefault(require("./lib/driver"));

var _server = require("./lib/server");

var _yargs = _interopRequireDefault(require("yargs"));

var _asyncbox = require("asyncbox");

const DEFAULT_HOST = 'localhost';
const DEFAULT_PORT = 4797;

async function main() {
  let port = _yargs.default.argv.port || _yargs.default.argv.p || DEFAULT_PORT;
  let host = _yargs.default.argv.host || _yargs.default.argv.h || DEFAULT_HOST;
  return await (0, _server.startServer)(port, host);
}

if (require.main === module) {
  (0, _asyncbox.asyncify)(main);
}

var _default = _driver.default;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRFRkFVTFRfSE9TVCIsIkRFRkFVTFRfUE9SVCIsIm1haW4iLCJwb3J0IiwieWFyZ3MiLCJhcmd2IiwicCIsImhvc3QiLCJoIiwicmVxdWlyZSIsIm1vZHVsZSIsIlNhZmFyaURyaXZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsV0FBckI7QUFDQSxNQUFNQyxZQUFZLEdBQUcsSUFBckI7O0FBRUEsZUFBZUMsSUFBZixHQUF1QjtBQUNyQixNQUFJQyxJQUFJLEdBQUdDLGVBQU1DLElBQU4sQ0FBV0YsSUFBWCxJQUFtQkMsZUFBTUMsSUFBTixDQUFXQyxDQUE5QixJQUFtQ0wsWUFBOUM7QUFDQSxNQUFJTSxJQUFJLEdBQUdILGVBQU1DLElBQU4sQ0FBV0UsSUFBWCxJQUFtQkgsZUFBTUMsSUFBTixDQUFXRyxDQUE5QixJQUFtQ1IsWUFBOUM7QUFDQSxTQUFPLE1BQU0seUJBQVlHLElBQVosRUFBa0JJLElBQWxCLENBQWI7QUFDRDs7QUFFRCxJQUFJRSxPQUFPLENBQUNQLElBQVIsS0FBaUJRLE1BQXJCLEVBQTZCO0FBQzNCLDBCQUFTUixJQUFUO0FBQ0Q7O2VBRWNTLGUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2FmYXJpRHJpdmVyIGZyb20gJy4vbGliL2RyaXZlcic7XG5pbXBvcnQgeyBzdGFydFNlcnZlciB9IGZyb20gJy4vbGliL3NlcnZlcic7XG5pbXBvcnQgeWFyZ3MgZnJvbSAneWFyZ3MnO1xuaW1wb3J0IHsgYXN5bmNpZnkgfSBmcm9tICdhc3luY2JveCc7XG5cbmNvbnN0IERFRkFVTFRfSE9TVCA9ICdsb2NhbGhvc3QnO1xuY29uc3QgREVGQVVMVF9QT1JUID0gNDc5NztcblxuYXN5bmMgZnVuY3Rpb24gbWFpbiAoKSB7XG4gIGxldCBwb3J0ID0geWFyZ3MuYXJndi5wb3J0IHx8IHlhcmdzLmFyZ3YucCB8fCBERUZBVUxUX1BPUlQ7XG4gIGxldCBob3N0ID0geWFyZ3MuYXJndi5ob3N0IHx8IHlhcmdzLmFyZ3YuaCB8fCBERUZBVUxUX0hPU1Q7XG4gIHJldHVybiBhd2FpdCBzdGFydFNlcnZlcihwb3J0LCBob3N0KTtcbn1cblxuaWYgKHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7XG4gIGFzeW5jaWZ5KG1haW4pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTYWZhcmlEcml2ZXI7XG5leHBvcnQgeyBTYWZhcmlEcml2ZXIsIHN0YXJ0U2VydmVyIH07XG4iXSwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii4uIn0=
